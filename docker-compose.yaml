version: "3.9"

services:
  service-one:
    container_name: server
    image: simple-flask-api-server
    build:
      context: .
      dockerfile: Dockerfile
      target: server
    stdin_open: true
    tty: true
    ports:
      - 5000:5000
  service-two:
    container_name: client
    image: simple-flask-api-client
    build:
      context: .
      dockerfile: Dockerfile
      target: client
    stdin_open: true
    tty: true
    network_mode: host
